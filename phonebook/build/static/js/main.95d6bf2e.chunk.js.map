{"version":3,"sources":["services/phonebook.js","components/SearchBar.js","components/Form.js","components/PhoneBook.js","components/Notification.js","App.js","index.js"],"names":["baseUrl","SearchBar","search","setSearch","value","onChange","e","target","Form","addPerson","newName","newPhone","setNewName","setNewPhone","onSubmit","type","PhoneBook","persons","delentry","filter","person","name","toLowerCase","includes","map","number","onClick","id","Notification","message","error","className","App","useState","setPersons","setMessage","setError","useEffect","axios","get","then","data","updatePerson","newPerson","put","update","response","people","catch","setTimeout","preventDefault","duplicated","find","one","window","confirm","post","promise","concat","delete","item","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.95d6bf2e.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = \"http://localhost:3001/persons\"\n\nconst getAll = () => {\n    return axios.get(baseUrl)\n}\n\nconst create = newPerson => {\n    return axios.post(baseUrl, newPerson)\n}\n\nconst update = (id, person) => {\n    return axios.put(`${baseUrl}/${id}`, person)\n}\n\nconst deletePerson = id => {\n    return axios.delete(`${baseUrl}/${id}`)\n}\n\nexport { getAll, create, update, deletePerson }","import React from 'react'\n\nconst SearchBar = ({ search, setSearch }) => {\n    return (\n        <p>filter shown with <input value={search} onChange={e => setSearch(e.target.value)} /></p>\n    )\n}\n\nexport default SearchBar\n","import React from 'react'\n\nconst Form = ({ addPerson, newName, newPhone, setNewName, setNewPhone }) => {\n    return (\n        <form onSubmit={addPerson}>\n            <div>name: <input value={newName} onChange={e => setNewName(e.target.value)} /></div>\n            <div>number: <input value={newPhone} onChange={e => setNewPhone(e.target.value)} /></div>\n            <div>\n                <button type=\"submit\">add</button>\n            </div>\n        </form>\n    )\n}\n\nexport default Form\n","import React from 'react'\n\nconst PhoneBook = ({ persons, search, delentry }) => {\n    return (\n        <div>\n            {persons.filter(person => person.name.toLowerCase().includes(search.toLowerCase())).map((person) => (\n                <div key={person.id}>\n                    <span>{person.name} {person.number} </span>\n                    <button onClick={() => delentry(person)} >delete</button>\n                </div>\n            ))}\n        </div>\n    )\n}\n\nexport default PhoneBook\n","import React from 'react'\n\nconst Notification = ({ message, error }) => {\n    if(message === null && error === null) {\n        return null\n    } \n\n    return (\n        <div className={message ? \"message\" : \"error\"}>\n            {message ? message :  error}\n        </div>\n    )\n}\n\nexport default Notification\n","import React, { useState, useEffect } from 'react'\nimport { getAll, create, update, deletePerson } from './services/phonebook'\nimport SearchBar from './components/SearchBar'\nimport Form from './components/Form'\nimport PhoneBook from './components/PhoneBook'\nimport Notification from './components/Notification'\nimport './index.css'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newPhone, setNewPhone ] = useState('')\n  const [ newName, setNewName ] = useState('')\n  const [ search, setSearch ] = useState('')\n  const [ message, setMessage ] = useState(null)\n  const [ error, setError ] = useState(null)\n\n  useEffect(() => {\n    getAll().then(persons => setPersons(persons.data))\n  }, [])\n\n  const addPerson = (e) => {\n    e.preventDefault()\n\n    const duplicated = persons.find(one => one.name === newName)\n\n    if(duplicated) {\n      if(window.confirm(`${duplicated.name} is already added to phonebook, replace the old number with a new one?`)) {\n        updatePerson(duplicated)\n      }\n    } else { \n      const person = {\n        name: newName,\n        number: newPhone\n      }\n\n      create(person).then(promise => setPersons(persons.concat(promise.data)))\n      setMessage(`Contact ${person.name} was created successfully`)\n      setTimeout(() => setMessage(null), 5000)\n    }\n    setNewName('')\n    setNewPhone('')\n  }\n\n  const updatePerson = (person) => {\n    const newPerson = {\n      name: person.name,\n      number: newPhone\n    }\n\n    update(person.id, newPerson)\n      .then(response => {\n        setMessage(`Contact ${newPerson.name} was updated successfully`)\n        setPersons(persons.map(people => person.id !== people.id ? people : response.data))\n      })\n      .catch(error => setError(`${person.name} was already removed from server`))\n      \n    setTimeout(() => setError(null), 5000)\n    setTimeout(() => setMessage(null), 5000)\n  }\n\n  const deleteEntry = (person) => {\n    if(window.confirm(`Delete ${person.name} ?`)) {\n      deletePerson(person.id)\n        .then(promise => setPersons(persons.filter(item => item.id !== person.id)))\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={message} error={error} />\n      <SearchBar search={search} setSearch={setSearch} />\n      <h2>Add a new</h2>\n      <Form addPerson={addPerson} newName={newName} newPhone={newPhone} setNewName={setNewName} setNewPhone={setNewPhone} />\n      <h2>Numbers</h2>\n      <PhoneBook persons={persons} search={search} delentry={deleteEntry}/>\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}